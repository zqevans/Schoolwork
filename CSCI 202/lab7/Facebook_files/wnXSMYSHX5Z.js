/*1369013511,178142517*/

if (self.CavalryLogger) { CavalryLogger.start_js(["3a7Zo"]); }

__d("EntstreamStoryAudienceWidget",["CSS","Event","Run","SubscriptionsHandler"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('Event'),i=b('Run'),j=b('SubscriptionsHandler'),k={};k.init=function(l){var m=new j();m.addSubscriptions(h.listen(l,'mouseover',g.removeClass.curry(l,'selected')),h.listen(l,'mouseout',g.addClass.curry(l,'selected')));i.onLeave(m.release.bind(m));};e.exports=k;});
__d("GroupsMemberCountUpdater",["Arbiter","DOM"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('DOM');function i(){}i.subscribeMemberCount=function(j){g.subscribe('GroupsMemberCount/changeText',function(k,l){h.setContent(j,l);});};i.subscribeNewMemberCount=function(j){g.subscribe('GroupsMemberCount/changeNewMembersText',function(k,l){h.setContent(j,l);});};e.exports=i;});
__d("GroupsAddTypeaheadView",["Arbiter","Class","ContextualTypeaheadView","copyProperties"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Class'),i=b('ContextualTypeaheadView'),j=b('copyProperties');function k(l,m){this.parent.construct(this,l,m);}h.extend(k,i);j(k.prototype,{select:function(l){var m=this.results[this.index];g.inform('GroupsMemberSuggestion/remove',m.uid);if(m.is_member){this.reset();}else this.parent.select(l);}});e.exports=k;});
__d("GroupsAddMemberTypeahead",["Arbiter","DOM","Typeahead","copyProperties","ge"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('DOM'),i=b('Typeahead'),j=b('copyProperties'),k=b('ge');function l(m,n){if(m&&n)this.init(m,n);}j(l.prototype,{init:function(m,n){m.subscribe('select',function(o,p){g.inform('GroupsAddMemberTypeahead/add',{gid:n,uid:p.selected.uid,name:p.selected.text,photo:p.selected.photo});var q=m.getData().getExclusions();q.push(p.selected.uid);m.getData().setExclusions(q);});g.subscribe('GroupsAddMemberTypeahead/updateGroupToken',this.resetTypeaheadCaches.bind(this));},resetTypeaheadCaches:function(m,n){var o=h.scry(k('pagelet_group_'),'.uiTypeahead:not(.uiPlacesTypeahead)');for(var p=0;p<o.length;p++){var q=i.getInstance(o[p]);if(q){var r=q.getData();r.updateToken(n.token);q.getCore().subscribe('focus',r.bootstrap.bind(r));}}}});e.exports=l;});
__d("legacy:GroupsAddMemberTypeahead",["GroupsAddMemberTypeahead"],function(a,b,c,d){a.GroupsAddMemberTypeahead=b('GroupsAddMemberTypeahead');},3);
__d("HomeRightColumnRemindersController",["Event","LegacyContextualDialog","DOM","Run","throttle"],function(a,b,c,d,e,f){var g=b('Event'),h=b('LegacyContextualDialog'),i=b('DOM'),j=b('Run'),k=b('throttle'),l=[],m;function n(){l.forEach(function(q){q.remove();});l=[];}function o(){for(var q=0;q<m.length;q++){var r=h.getInstance(m[q]);r.hide();}}var p={init:function(){m=i.scry(document,'div.fbRemindersContent');j.onLeave(n);l=[g.listen(window,'resize',k(o)),g.listen(window,'scroll',k(o))];}};e.exports=p;});
__d("LitestandMessages",[],function(a,b,c,d,e,f){var g={FILTER_SWITCH_BEGIN:'LitestandMessages/FilterSwitchBegin',NEWSFEED_LOAD:'LitestandMessages/NewsFeedLoad',LEAVE_HOME:'LitestandMessages/LeaveHome',UPDATE_HOME_COUNT:'LitestandMessages/UpdateHomeCount',STORIES_INSERTED:'LitestandMessages/StoriesInserted',STORIES_REMOVED:'LitestandMessages/StoriesRemoved',NEWER_STORIES_INSERTED:'LitestandMessages/NewerStoriesInserted',EXPAND_FILTER_SWITCHER:'LitestandMessages/ExpandFilterSwitcher',RESTORE_FILTER_SWITCHER:'LitestandMessages/RestoreFilterSwitcher',NEW_STORY_BAR_CLICK:'LitestandMessages/NewStoryBarClick',TOUR_BEGIN:'LitestandMessages/TourBegin',TOUR_END:'LitestandMessages/TourEnd',TOUR_SIDEBAR_HIGHLIGHT:'LitestandMessages/TourSidebarHighlight',TOUR_SIDEBAR_UNHIGHLIGHT:'LitestandMessages/TourSidebarUnhighlight',RHC_RELOADED:'LitestandMessages/RHCReloaded'};e.exports=g;});
__d("LitestandNewsfeedCountUpdater",["Arbiter","AsyncRequest","LitestandMessages","LitestandSidebarBookmarkConfig","UserActivity","emptyFunction"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('AsyncRequest'),i=b('LitestandMessages'),j=b('LitestandSidebarBookmarkConfig'),k=b('UserActivity'),l=b('emptyFunction'),m=60000,n,o;function p(){return k.isActive(m);}function q(){o&&clearTimeout(o);o=setTimeout(r,j.nf_count_query_interval_ms,false);}function r(){if(n&&p()){q();return;}new h().setURI('/ajax/litestand/newsfeed_count').setHandler(function(u){var v=u.getPayload();if(n&&p()){v=0;}else if(n&&!p())k.subscribeOnce(s.curry(0));s(v);q();}).send();}function s(u){g.inform(i.UPDATE_HOME_COUNT,{active:p(),count:u,onHome:n},g.BEHAVIOR_STATE);}var t={init:function(){t.init=l;g.subscribe(i.NEWSFEED_LOAD,function(){n=true;s(0);});g.subscribe(i.LEAVE_HOME,function(){n=false;q();});q();}};e.exports=t;});
__d("LitestandChromeHomeCount",["Arbiter","CSS","DOM","LitestandMessages","LitestandNewsfeedCountUpdater","$","csx","cx"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('CSS'),i=b('DOM'),j=b('LitestandMessages'),k=b('LitestandNewsfeedCountUpdater'),l=b('$'),m=b('csx'),n=b('cx'),o=20,p,q,r,s,t={init:function(u){k.init();s=u;q=i.find(l('pageHead'),"._539b");p=q.parentNode;r=!h.hasClass(p,"_539a");g.subscribe(j.UPDATE_HOME_COUNT,function(v,w){t.updateBadge(w.onHome?0:w.count);});t.toggleBadge(s>0);},updateBadge:function(u){s=u;var v=u>0;t.toggleBadge(v);if(v){var w=u>o?o+'+':u;i.setContent(q,w);}},toggleBadge:function(u){if(r===u)return;r=u;h.conditionClass(p,"_539a",!u);}};e.exports=t;});
__d("LitestandFilterSwitcherLevels",[],function(a,b,c,d,e,f){var g={TOP_LEVEL:'top',ONE_CLICK:'1',TWO_CLICKS:'2'};e.exports=g;});
__d("LitestandFilterImpressionsLogger",["AsyncRequest","LitestandFilterSwitcherLevels"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('LitestandFilterSwitcherLevels'),i='/ajax/litestand/filter/impressions',j,k={},l={},m,n,o={init:function(p,q,r,s){n=p;k=q;j=r;m=s;},logExpandedFilterImpressions:function(){o.logFilterImpressions(0,m,h.ONE_CLICK);},logSeeAllFilterImpressions:function(){o.logFilterImpressions(m,j.length,h.TWO_CLICKS);},logFilterImpressions:function(p,q,r){if(l[r])return;l[r]=true;var s=[];for(var t=p;t<q;t++){var u=j[t];if(k[u])continue;k[u]=true;var v=n[u];s.push(v.getAttribute('data-gt'));}g.post(i,{filter_gts:s,level:r});}};e.exports=o;});
__d("LitestandLinkHider",["DataStore","DOM","Event","Parent","UserAgent"],function(a,b,c,d,e,f){var g=b('DataStore'),h=b('DOM'),i=b('Event'),j=b('Parent'),k=b('UserAgent');function l(event){var n=event.getTarget(),o=j.byTag(n,'a');if(!o)return;if(event.type==='mouseover'){g.set(o,'href',o.href);o.removeAttribute('href');}else{o.href=g.get(o,'href')||o.href;if(event.type==='mouseout')g.remove(o,'href');}}var m={hideLinks:function(n){if(!k.chrome()&&k.ie()<9)return;i.listen(n,{mouseover:l,mouseout:l,mousedown:l});},removeAllHrefs:function(n){var o=h.scry(n,'a');o.forEach(function(p){p.removeAttribute('href');p.removeAttribute('ajaxify');p.removeAttribute('rel');p.setAttribute('tabindex',0);});}};e.exports=m;});
__d("LitestandSwitcher",["Arbiter","ArbiterMixin","CSS","DocumentTitle","DOM","DOMScroll","LitestandFilterImpressionsLogger","LitestandMessages","PageTransitions","Run","UIPagelet","copyProperties","csx","cx","ge"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('CSS'),j=b('DocumentTitle'),k=b('DOM'),l=b('DOMScroll'),m=b('LitestandFilterImpressionsLogger'),n=b('LitestandMessages'),o=b('PageTransitions'),p=b('Run'),q=b('UIPagelet'),r=b('copyProperties'),s=b('csx'),t=b('cx'),u=b('ge'),v=20,w,x,y,z;function aa(ea,fa){l.scrollToTop(false);w.updateSelected(y[fa]);var ga=k.find(document.body,"._6d_"),ha=k.find(document.body,"._6di"),ia={className:"_3ozp",src:'/images/litestand/spinner.gif'},ja=ga.childNodes,ka=ha.childNodes;for(var la=0;la<ja.length;++la)i.hide(ja[la]);for(var ma=0;ma<ka.length;++ma)i.hide(ka[ma]);k.appendContent(ga,k.create('img',ia));k.appendContent(ha,k.create('img',ia));i.addClass(ha,"_4_8c");q.loadFromEndpoint('LitestandMainColumnPagelet',k.getID(ga),x[ea],{automatic:true,usePipe:true});q.loadFromEndpoint('LitestandRHCPagelet',k.getID(ha),x[ea],{automatic:true,constHeight:true,usePipe:true});var na=x[ea].section_title;na&&j.set(na,false);}function ba(ea){if(Object.keys(ea.getQueryData()).length)return;var fa=ea.getPath();for(var ga=0;ga<x.length;ga++)if(x[ga].section_hrefs.indexOf(fa)!==-1){g.inform(n.FILTER_SWITCH_BEGIN);aa(ga,x[ga].section_id);return true;}return false;}function ca(ea){var fa=k.scry(ea,"._3ozq")[0];fa&&k.remove(fa);}var da={init:function(ea,fa,ga){x=fa;y=ga;da.setNavInstance(ea);if(!z){o.registerHandler(ba);p.onLeave(function(){w=null;x=null;y=null;}.bind(this));}},setNavInstance:function(ea){w&&w.destroy();w=ea;if(!ea)return;da.inform('init',null,g.BEHAVIOR_PERSISTENT);ea.subscribe(['expand','expand_end','expand_all','expand_all_end','collapse','collapse_end','click','collapsed_extra','reset'],function(fa,ga){if(fa==='expand'){m.logExpandedFilterImpressions();}else if(fa==='expand_all')m.logSeeAllFilterImpressions();if(fa==='click')ca(ga.item);da.inform(fa,ga);});},getRoot:function(){return w.getRoot();},getNavInstance:function(){return w;},updateListName:function(ea,fa){var ga=y&&y[ea];if(ga)k.setContent(k.find(ga,"._18q_"),fa);},updateItemCount:function(ea,fa){var ga=y[ea];if(!ga)return;if(fa>v)fa=v+'+';var ha=k.scry(ga,"._3ozq")[0];if(fa===0){ha&&k.remove(ha);return;}if(!ha){ha=k.create('div',{className:"_3ozq"});k.insertAfter(k.find(ga,"._c9j"),ha);}k.setContent(ha,fa);},showAdditionalItem:function(ea,fa){var ga=y[ea];ga&&w.showAdditionalInCollapse(ga,fa);},reloadSectionNav:function(){if(!u('pagelet_litestand_section_nav'))return;q.loadFromEndpoint('LitestandSectionNavigationPagelet','pagelet_litestand_section_nav');},registerFeedsDialog:function(ea){ea.subscribe('hide',da.reloadSectionNav);}};r(da,h);e.exports=da;});
__d("LitestandRHC",["Arbiter","BrowserSupport","CSS","DOM","DOMDimensions","DOMPosition","Event","LitestandSwitcher","Run","Style","SubscriptionsHandler","Vector","ViewportBounds","copyProperties","csx","cx","queryThenMutateDOM","requestAnimationFrame"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('BrowserSupport'),i=b('CSS'),j=b('DOM'),k=b('DOMDimensions'),l=b('DOMPosition'),m=b('Event'),n=b('LitestandSwitcher'),o=b('Run'),p=b('Style'),q=b('SubscriptionsHandler'),r=b('Vector'),s=b('ViewportBounds'),t=b('copyProperties'),u=b('csx'),v=b('cx'),w=b('queryThenMutateDOM'),x=b('requestAnimationFrame'),y=300,z=63,aa=61,ba=62,ca=38;function da(fa){this.container=fa;this.root=j.find(fa,"._6c3");this.rhc=j.find(this.root,"._6b-");this.content=j.scry(this.rhc,"._6di")[0];this.layoutRoot=j.find(document.body,"._li");this.allExpanded=false;this.egoOffsets=[];this.headerFixed=false;this.isFixed=false;this.offset=0;this.rhcTop=0;this._margin=0;this._cacheQueries=this.cacheQueries.bind(this);this._updatePosition=this.updatePosition.bind(this);this.subscriptions=[];this.setup();this.initHandler=new q();this.initHandler.addSubscriptions(n.subscribe('init',function(){this.header=j.scry(this.root,"._3ozo")[0];this.reset();}.bind(this)));o.onLeave(this.initHandler.release.bind(this.initHandler));g.subscribe('Megaphone/show',this.reset.bind(this));}da._egoSelectors=['div.pagelet',"div._4n5",'div.ego_unit','div.uiHeader'];function ea(fa,ga,ha){if(h.hasCSSTransitions()){i.addClass(fa,"_4-kl");x(function(){p.set(fa,ga,ha);i.removeClass.curry(fa,"_4-kl").defer(y);});}else p.set(fa,ga,ha);}t(da.prototype,{reset:function(){p.set(this.rhc,'top','');p.set(this.rhc,'margin-top','');p.set(this.rhc,'padding-top','');this.unfix();this.setup();if(this.header){this.unfixHeader();this.setupHeader();}},expand:function(event,fa){w(this._cacheQueries,function(){if(this.headerFixed){var ga=this.offset-ca+fa.height;ea(this.rhc,this.isFixed?'top':'margin-top',ga+'px');p.set(this.rhc,this.isFixed?'margin-top':'top','');var ha=this.getHeaderHeight();p.set(this.rhc,'padding-top',ha+'px');}}.bind(this));},setup:function(){this.cacheQueries();this.cacheSmallViewport();this.cacheViewport();},setupHeader:function(){this.updatePosition();var fa=Math.max(0,k.getElementDimensions(this.header).height-this.getHeaderHeight()-2);this._margin=fa;if(this.headerFixed)if(this.isFixed){p.set(this.rhc,'top',this.offset+fa+'px');}else p.set(this.rhc,'margin-top',fa+'px');this.handler&&this.handler.release();this.handler=new q();this.handler.addSubscriptions(n.subscribe('expand',this.expand.bind(this)),n.subscribe('expand_end',function(event,ga){this._margin=ga.height-ca;w(this._cacheQueries.bind(this),this._updatePosition.bind(this));}.bind(this)),n.subscribe('expand_all',function(event,ga){this.expand(event,ga);this._ignorePositioning=true;}.bind(this)),n.subscribe('expand_all_end',function(event,ga){this.rhcTop=this.isFixed?this.layoutRootTop+this.offset-this.viewportTop:0;this._expandedRHCPosition=l.getElementPosition(this.rhc).y+22+s.getTop();this._originalRHCMarginTop=this.rhcTop;this._originalLayoutRootTop=this.layoutRootTop;this._margin=ga.height-ca;this.minTop=this.layoutRootTop;this.unfixHeader(this.layoutRootTop);this.unfix();p.set(this.rhc,'margin-top',this.rhcTop+'px');}.bind(this)),n.subscribe('collapse',function(){this._ignorePositioning=false;if(this.rhcTop===0){ea(this.rhc,this.isFixed?'top':'margin-top',this.isFixed?this.offset+'px':'');if(this.header&&this.headerFixed){var ga=this.getHeaderHeight();ea(this.rhc,'padding-top',ga+'px');}}else p.set(this.rhc,this.isFixed?'top':'margin-top',this.isFixed?this.offset+'px':'');if(this.isFixed)p.set(this.rhc,'margin-top','');this._margin=0;this.rhcTop=0;}.bind(this)),n.subscribe('collapse_end',function(){this.minTop=0;w(this._cacheQueries,this._updatePosition);}.bind(this)),n.subscribe('reset',function(){this._ignorePositioning=false;this.cacheQueries();this.updatePosition();}.bind(this)),n.subscribe('collapsed_extra',function(ga,ha){this._hasAdditionalShown=ha.hasExtra;}.bind(this)));o.onLeave(this.handler.release.bind(this.handler));},contentReplaced:function(){this.content&&i.removeClass(this.content,"_4_8c");w(function(){this.cacheEgoOffsets();this.cacheQueries();j.scry(this.rhc,'img').forEach(function(fa){if(fa.getAttribute('height')||fa.complete||(typeof fa.naturalHeight!=='undefined'&&fa.naturalHeight!==0))return;var ga=m.listen(fa,'load',function(){this.cacheEgoOffsets();this.cacheQueries();this.updatePosition();ga.remove();ha.remove();}.bind(this)),ha=m.listen(fa,'error',function(){ga.remove();ha.remove();});}.bind(this));if(this.header)this._margin=Math.max(0,k.getElementDimensions(this.header).height-this.getHeaderHeight()-2);}.bind(this),function(){this.updatePosition();if(this.header&&this.headerFixed)if(this.isFixed){p.set(this.rhc,'top',this.offset+this._margin+'px');}else p.set(this.rhc,'margin-top',this._margin+'px');}.bind(this));},cacheEgoOffsets:function(){var fa=[];for(var ga=0,ha=da._egoSelectors.length;ga<ha;ga++)fa=fa.concat(j.scry(this.rhc,da._egoSelectors[ga]).map(function(ia){return ia.offsetTop+1;}));this.egoOffsets=fa.sort(function(ia,ja){return ia-ja;});},getHeaderHeight:function(){var fa=this.isSmallViewport?aa:z;if(this._hasAdditionalShown)fa+=ba;return fa;},cacheQueries:function(){this.layoutRootTop=Math.abs(Math.min(l.getElementPosition(this.layoutRoot).y,0));this._lastScrollTop=this._scrollTop;this._scrollTop=r.getScrollPosition().y;if(this._ignorePositioning)return;this.rhcHeight=k.getElementDimensions(this.rhc).height;},cacheSmallViewport:function(){this.isSmallViewport=i.hasClass(document.documentElement,"_4vcw");this.collapsedHeaderHeight=this.getHeaderHeight();},cacheViewport:function(){this.isTinyViewport=i.hasClass(document.documentElement,'tinyViewport');this.viewportHeight=r.getViewportDimensions().y;this.viewportTop=s.getTop();this.containerOffset=r.getElementPosition(this.container).y-this.viewportTop;this.topOffset=this.containerOffset+this.viewportTop;},affix:function(fa){if(this.offset===fa&&this.isFixed)return;this.offset=fa;p.set(this.rhc,'top',fa+'px');p.set(this.root,'padding-bottom',this.rhcHeight+'px');if(!this.isFixed){i.removeClass(this.rhc,"_4-kl");i.addClass(this.rhc,'fixed_elem');this.setHasHeaderShadow(false);this.isFixed=true;}},unfix:function(){if(!this.isFixed)return;p.set(this.root,'padding-bottom','');i.removeClass(this.rhc,'fixed_elem');p.set(this.rhc,'top','');this.offset=0;this.isFixed=false;},fixHeader:function(fa){if(this.headerFixed||!this.header)return;i.addClass(this.header,'fixed_elem');p.set(this.rhc,'padding-top',this.collapsedHeaderHeight+'px');p.set(this.header,'top',fa+'px');this.headerFixed=true;},unfixHeader:function(fa){if(!this.headerFixed||!this.header)return;i.removeClass(this.header,'fixed_elem');p.set(this.rhc,'padding-top','');p.set(this.header,'top',(fa||0)+'px');this.headerFixed=false;},setHasHeaderShadow:function(fa){this.header&&i.conditionClass(this.header,"_3ozm",fa);},resize:function(){if(this.isTinyViewport){this.unfixHeader();this.unfix();}else if(this.headerFixed)p.set(this.rhc,'padding-top',this.collapsedHeaderHeight+'px');this.updatePosition();},updatePosition:function(){var fa=this.layoutRootTop;if(this.isTinyViewport)return;if(this._ignorePositioning){if(this.minTop&&fa<this.minTop){if(!this.isFixed&&this._scrollTop<this._lastScrollTop){if(l.getElementPosition(this.header).y>=this.viewportTop){this.fixHeader(this.viewportTop);this.affix(this._expandedRHCPosition);p.set(this.rhc,'margin-top','');p.set(this.rhc,'padding-top','');}}else if(this.isFixed&&this._lastScrollTop<this._scrollTop){this.unfixHeader(this.layoutRootTop);this.unfix();p.set(this.rhc,'top','');p.set(this.rhc,'margin-top',(this._originalRHCMarginTop+this.layoutRootTop-this._originalLayoutRootTop)+'px');}}else{this.unfixHeader();this.unfix();}return;}if(fa>=this.containerOffset){this.fixHeader(this.viewportTop);}else this.unfixHeader();this.setHasHeaderShadow(fa>this.containerOffset&&!this.isFixed);if(this._margin)return;if(fa>=this.containerOffset){if(this.rhcHeight+this._margin<this.viewportHeight-this.viewportTop){this.affix(this.viewportTop);return;}var ga=this.viewportHeight-this.rhcHeight,ha=this.viewportTop;for(var ia=0,ja=this.egoOffsets.length;ia<ja;ia++)if(ga>ha-this.egoOffsets[ia]){ga=ha-this.egoOffsets[ia];break;}if(this.topOffset-fa<=ga){this.affix(ga);return;}}this.unfix();}});e.exports=da;});
__d("LitestandRHCAds",["Arbiter","DOM","Event","LitestandMessages","Run","SubscriptionsHandler","UIPagelet","copyProperties","csx","debounceAcrossTransitions","ge"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('DOM'),i=b('Event'),j=b('LitestandMessages'),k=b('Run'),l=b('SubscriptionsHandler'),m=b('UIPagelet'),n=b('copyProperties'),o=b('csx'),p=b('debounceAcrossTransitions'),q=b('ge'),r,s,t,u,v,w,x,y;function z(){var ea=h.scry(t,"div._4u8");for(var fa=0,ga=ea.length;fa<ga;++fa){var ha=JSON.parse(ea[fa].getAttribute('data-ad')).segment;if(ha==='premium')return true;}return false;}function aa(){if(!t)return;var ea=u.refresh_premium_ads||!z(),fa=Date.now();if(ea&&!w&&u.interval&&fa-r>=u.interval)ba();}function ba(){if(!t)return;r=Date.now();var ea=v&&v.data,fa=n(ea,{ads_only:false,is_litestand:true,organic_only:false,refresh_num:++s});m.loadFromEndpoint('WebEgoPane',t,{dom_id:h.getID(t),pid:v.pid,data:fa},{bundle:false});}function ca(){t=null;u=null;v=null;w=false;x.release();x=null;y.reset();}var da={init:function(ea,fa,ga){if(!ga||!ga.data||!ga.data.is_litestand)return;t=q(ea);r=Date.now();u=fa;v=ga;s=0;y=p(aa,fa.delay);x=new l();x.addSubscriptions(g.subscribe(j.FILTER_SWITCH_BEGIN,ca),g.subscribe(j.NEW_STORY_BAR_CLICK,function(){if(Date.now()-r>fa.new_story_bar_delay_ms)ba();}),i.listen(t,'mouseenter',function(){w=true;}),i.listen(t,'mouseleave',function(){w=false;}),i.listen(window,'scroll',y),i.listen(window,'resize',y));if(fa.onmove)x.addSubscriptions(i.listen(window,'mousemove',y));k.onLeave(ca);}};e.exports=da;});
__d("LitestandRHCController",["Event","Arbiter","LitestandRHC","Run","debounce","queryThenMutateDOM","throttle"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('LitestandRHC'),j=b('Run'),k=b('debounce'),l=b('queryThenMutateDOM'),m=b('throttle'),n,o=[],p=[],q;function r(){if(n)return;var u=l.curry(q.cacheQueries.bind(q),q.updatePosition.bind(q),'LitestandRHC/scroll'),v=l.curry(q.cacheViewport.bind(q),q.resize.bind(q),'LitestandRHC/resize');o=[g.listen(window,'scroll',m(u)),g.listen(window,'resize',k(v))];p=[h.subscribe('ViewportSizeChange',q.cacheSmallViewport.bind(q)),h.subscribe('Megaphone/show',function(){v();u();}),h.subscribe('netego_loaded',function(){q.contentReplaced();})];j.onLeave(s);n=true;}function s(){o.forEach(function(u){u.remove();});p.forEach(h.unsubscribe);o=[];p=[];q=null;n=false;}var t={registerRHC:function(u){q=new i(u);r();},replaceRHC:function(){q.contentReplaced();}};e.exports=t;});
__d("runAfterCSSTransition",["BrowserSupport","DataStore","DOM","Event","Run"],function(a,b,c,d,e,f){var g=b('BrowserSupport'),h=b('DataStore'),i=b('DOM'),j=b('Event'),k=b('Run'),l;if(g.hasCSSTransitions()){l=function(m,n){var o=h.get(m,'runAfterCSSTransition');if(o)return o;var p,q=j.listen(m,g.getTransitionEndEvent(),function(event){if(event.getTarget()!==m)return;p&&p();p=null;});if(!n)k.onLeave(function(){q.remove();q=null;p=null;h.remove(m,'runAfterCSSTransition');});var r=i.getID(m);o=function(s){if(!q)return;p=s;};h.set(m,'runAfterCSSTransition',o);return o;};}else l=function(){return function(m){m();};};e.exports=l;});
__d("LitestandSectionNav",["Arbiter","ArbiterMixin","Bootloader","BrowserSupport","CSS","DOM","DOMDimensions","DOMPosition","DOMQuery","Event","LitestandMessages","Parent","Run","Style","SubscriptionsHandler","Vector","copyProperties","csx","cx","queryThenMutateDOM","requestAnimationFrame","runAfterCSSTransition","throttle"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('Bootloader'),j=b('BrowserSupport'),k=b('CSS'),l=b('DOM'),m=b('DOMDimensions'),n=b('DOMPosition'),o=b('DOMQuery'),p=b('Event'),q=b('LitestandMessages'),r=b('Parent'),s=b('Run'),t=b('Style'),u=b('SubscriptionsHandler'),v=b('Vector'),w=b('copyProperties'),x=b('csx'),y=b('cx'),z=b('queryThenMutateDOM'),aa=b('requestAnimationFrame'),ba=b('runAfterCSSTransition'),ca=b('throttle'),da=37,ea=30,fa={COLLAPSED:0,DEFAULT:1,EXPANDED:2,EXPAND_ALL:3};function ga(ha,ia){this._more=ia.more;this._moreIndex=ia.more&&parseInt(ia.more.getAttribute('data-index'),10);this._seeAll=ia.see_all;this._seeAllIndex=ia.first_see_all;this._selectedIndex=ia.selected;this._currentState=ia.collapsed?fa.COLLAPSED:fa.DEFAULT;this._originalState=this._currentState;this._showSeeAllDialog=ia.has_see_all_dialog||false;this._collapseOnDialog=ia.has_see_all_dialog&&ia.has_new_rhc;this._collapsedExtra=null;this._root=ha;this._wrap=l.find(this._root,"._3ozl");this._layoutRoot=o.find(document.body,"._li");var ja=l.scry(this._root,"._7gb");this._items={};this._itemsCount=ja.length;ja.forEach(function(ka){var la=ka.getAttribute('data-index');this._items[la]={element:ka,index:parseInt(la,10)};}.bind(this));this._runAfterTransition=ba(this._root);this.handler=new u();this.handler.addSubscriptions(g.subscribe(q.EXPAND_FILTER_SWITCHER,function(){this.setState(fa.EXPANDED);}.bind(this)),g.subscribe(q.RESTORE_FILTER_SWITCHER,function(){if(this._previousState===fa.DEFAULT){this.setState(fa.DEFAULT);}else this.setState(fa.COLLAPSED);}.bind(this)),this.subscribe('state_change',this.stateChanged.bind(this)),p.listen(ha,'click',this._onClick.bind(this)));if(!ia.has_new_rhc)this.handler.addSubscriptions(p.listen(window,'scroll',ca(this._onScroll.bind(this))));s.onLeave(this.handler.release.bind(this.handler));}w(ga.prototype,h,{destroy:function(){this.handler.release();},_update:function(ha,ia,ja,ka,la,ma){ia=-ia*da;ha=ha*da-1;if(this._more&&(this._currentState===fa.DEFAULT||this._collapsedExtra!==null))ha-=12;var na=function(){t.set(this._root,'height',ha+'px');t.set(this._wrap,'margin-top',ia+'px');}.bind(this);this.inform(ja,{height:ha});if(la!==false&&j.hasCSSTransitions()){k.addClass(this._root,'animating');this._runAfterTransition(function(){k.removeClass(this._root,'animating');this.inform(ka,{height:ha});ma&&ma();}.bind(this));aa(na);}else{na();this.inform(ka,{height:ha});ma&&ma();}},_onScroll:function(event){var ha=null;z(function(){var ia=-n.getElementPosition(this._layoutRoot).y;if(this._currentState===fa.EXPAND_ALL){var ja=n.getElementPosition(this._wrap).y,ka=ja+m.getElementDimensions(this._wrap).height,la=v.getViewportDimensions().y,ma=la/2;if(ja<=ma&&ka+ma>la)return;}if(this._currentState===fa.EXPAND_ALL||(this._currentState===fa.EXPANDED&&((this._originalState===fa.DEFAULT&&ia>ea)||this._originalState!==fa.DEFAULT))||(this._currentState===fa.DEFAULT&&ia>ea)){ha=fa.COLLAPSED;return;}if((this._originalState===fa.DEFAULT)&&((this._currentState===fa.COLLAPSED&&ia<=ea)||this._currentState===fa.EXPANDED)){ha=fa.DEFAULT;return;}if(this._collapsedExtra!==null&&ia<=ea){this._resetExtra(true);return;}}.bind(this),function(){this.setState(ha);}.bind(this));},_onClick:function(event){var ha=event.getTarget();if(l.contains(this._more,ha)){this.setState(fa.EXPANDED);return;}if(l.contains(this._seeAll,ha)){this.setState(fa.EXPAND_ALL);return;}var ia=r.byClass(ha,"_7gb");ia&&this.inform('click',{item:ia});if(!ia||event.isDefaultRequested())return;var ja=parseInt(ia.getAttribute('data-index'),10);if(ja===this._selectedIndex&&this._currentState===fa.COLLAPSED){this.setState(fa.EXPANDED);event.prevent();return;}if(ja===this._selectedIndex){if(this._currentState===fa.EXPANDED&&this._previousState===fa.DEFAULT){this.setState(fa.DEFAULT);}else if(this._currentState===fa.DEFAULT){this.setState(fa.EXPANDED);}else this.setState(fa.COLLAPSED);event.prevent();return;}},updateSelected:function(ha){if(!ha)return;if(this._currentState===fa.EXPAND_ALL)this.inform('reset');k.show(ha);var ia=parseInt(ha.getAttribute('data-index'),10);this.select(ia);if(ia&&this._currentState===fa.COLLAPSED&&this._collapsedExtra===null){if(this._moreIndex)if(ia>this._moreIndex){k.hide(this._more);ia--;}ia=Math.min(ia,this._seeAllIndex);t.set(this._wrap,'margin-top',-ia*da+'px');}if(this._collapsedExtra===ia&&this._currentState===fa.COLLAPSED){this._resetExtra(true);}else{this._resetExtra();this.setState(ia?fa.COLLAPSED:fa.DEFAULT);}this._originalState=this._currentState;},getRoot:function(){return this._root;},getItemAtIndex:function(ha){return this._items[ha];},getSelected:function(){if(!this._selected)this._selected=this.getItemAtIndex(this._selectedIndex);return this._selected;},getStates:function(){return fa;},isDefaultState:function(){return this._currentState===fa.DEFAULT;},isCollapsed:function(){return this._currentState===fa.COLLAPSED;},hasAllExpanded:function(){return this._currentState===fa.EXPAND_ALL;},previousStateWasDefault:function(){return this._previousState===fa.DEFAULT;},setState:function(ha,ia){if((!ha&&ha!==fa.COLLAPSED)||this._currentState===ha)return;this._previousState=this._currentState;this._currentState=ha;this.inform('state_change',{animate:ia});k.conditionClass(this._root,"_3ozk",ha===fa.COLLAPSED);},stateChanged:function(ha,ia){var ja=ia.animate;switch(this._currentState){case fa.COLLAPSED:this.collapse(ja);break;case fa.DEFAULT:this.expandDefault(ja);break;case fa.EXPANDED:this.expand(ja);break;case fa.EXPAND_ALL:this.expandAll(ja);break;}},select:function(ha){var ia=this.getSelected();if(ia){var ja=ia.element;k.removeClass(ja,"_3ozj");}var ka=this.getItemAtIndex(ha);if(ka){var la=ka.element;k.addClass(la,"_3ozj");this._selected=ka;this._selectedIndex=ha;}},expand:function(ha,ia){this._resetExtra();this.inform('before_expand');for(var ja in this._items){var ka=this._items[ja].element,la=this._items[ja].index,ma=(ka===this._more||(ha&&ka===this._seeAll)||(!ha&&this._seeAllIndex&&ka!==this._seeAll&&la!==this._selectedIndex&&la>this._seeAllIndex));k.conditionShow(ka,!ma);}var na;if(ha){na=this._itemsCount-2;}else{na=this._seeAllIndex+1;if(this._selectedIndex>this._seeAllIndex)na+=1;}this._update(na,0,ha?'expand_all':'expand',ha?'expand_all_end':'expand_end',ia,function(){this.inform('after_expand');}.bind(this));},expandAll:function(){if(this._showSeeAllDialog){if(this._collapseOnDialog)this.collapse(false,true);i.loadModules(['AsyncDialog'],function(ha){ha.bootstrap('/ajax/litestand/filter/chooser',this._seeAll,'dialog');});this._currentState=fa.EXPANDED;}else{if(!this._seeAll)return;this.expand(true);}},expandDefault:function(ha){this._resetExtra();var ia=function(){for(var la in this._items){var ma=this._items[la].element,na=this._items[la].index;k.conditionShow(ma,!this._more||na<=this._moreIndex);}}.bind(this),ja=null;if(this._previousState===fa.EXPANDED||this._previousState===fa.EXPAND_ALL){ja=ia;}else ia();var ka=this._previousState===fa.EXPANDED||this._previousState===fa.EXPAND_ALL;this._update(this._moreIndex+1,0,'expand','expand_end',ha,function(){ja&&ja();ka&&this.inform('after_collapse');}.bind(this));},collapse:function(ha,ia){this.inform('before_collapse');this._currentState=fa.COLLAPSED;var ja=function(){for(var ma in this._items){var na=this._items[ma].element,oa=this._items[ma].index;if(oa===this._selectedIndex||oa===this._collapsedExtra){k.show(na);continue;}var pa;if(na===this._more&&this._collapsedExtra!==null){pa=false;}else pa=(na===this._more&&this._selectedIndex>this._moreIndex)||(this._seeAllIndex&&oa>this._seeAllIndex);k.conditionShow(na,!pa);}this.inform('after_collapse');}.bind(this);if(ia){ja();ja=null;}var ka;if(this._seeAllIndex&&this._selectedIndex>this._seeAllIndex){ka=this._seeAllIndex;}else ka=this._selectedIndex-(this._selectedIndex>this._moreIndex?1:0);var la=1;if(this._collapsedExtra!==null){la+=2;if(this._collapsedExtra<this._selectedIndex)ka-=1;}this._update(la,ka,'collapse','collapse_end',ha,ja);},_restoreMore:function(){if(!this._more)return;k.hide(this._more);l.insertAfter(this.getItemAtIndex(this._moreIndex-1).element,this._more);},_resetExtra:function(ha){if(this._collapsedExtra===null)return;var ia=this.getItemAtIndex(this._collapsedExtra).element;k.removeClass(this._root,"_54m7");k.removeClass(ia,"_54m5");k.removeClass(ia,"_54m6");if(this._collapsedExtra===0){l.prependContent(ia.parentNode,ia);this._restoreMore();}else{var ja=false;if(this._moreIndex<=this._collapsedExtra){this._restoreMore();ja=true;}l.insertAfter(this.getItemAtIndex(this._collapsedExtra-1).element,ia);ja||this._restoreMore();}this.inform('collapsed_extra',{hasExtra:false});this._collapsedExtra=null;ha&&this.collapse(false);},showAdditionalInCollapse:function(ha,ia){var ja=parseInt(ha.getAttribute('data-index'),10);if(this._currentState!==fa.COLLAPSED||this._selectedIndex===ja||this._collapsedExtra!==null)return;this.inform('collapsed_extra',{hasExtra:true});var ka=this.getItemAtIndex(ja).element;k.addClass(this._root,"_54m7");k.removeClass(ka,"_54m6");k.addClass(ka,"_54m5");l.insertAfter(this.getSelected().element,ka);if(this._more){k.show(this._more);l.insertAfter(ka,this._more);}this._collapsedExtra=ja;this.collapse(true,true);(function(){if(this._collapsedExtra!==null)k.addClass(ka,"_54m6");}.bind(this)).defer(ia);}});e.exports=ga;});
__d("LitestandStream",["Arbiter","DOM","LitestandMessages","LitestandStreamConfig","copyProperties","csx","ge"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('DOM'),i=b('LitestandMessages'),j=b('LitestandStreamConfig'),k=b('copyProperties'),l=b('csx'),m=b('ge'),n,o,p,q,r,s,t,u={init:function(v,w,x){n=w;o=Math.round(Date.now()/1000);q=x;r=v;p=s=0;g.subscribe(i.STORIES_INSERTED,function(y,z){if(!z||!z.substream_id||!n)return;var aa=h.scry(m(z.substream_id),u.getStoriesSelector());aa.forEach(function(ba){var ca=ba.getAttribute('data-timestamp'),da=JSON.parse(ba.getAttribute('data-ft')).ei;if(!da&&ca&&ca<n)p++;s++;});});},getEmptySubstreamsSelector:function(){return "._4ikz:empty";},getStoriesSelector:function(){return "._8ru";},getStreamConfig:function(v){return k({bufferPixels:1000,firstPagerScrollBuffer:100,maxStories:null,oldStoriesDelay:5000,oldStoriesLimit:30,pagerController:'LitestandMoreStoriesPagelet',pagerSelector:u.getPagerSelector(),pollIntervalMS:null,newStoryIdleTime:60000,pollerSelector:u.getPollerSelector()},v);},getPagerSelector:function(){return "._2as";},getPollerSelector:function(){return "._2zo";},getStreamRoot:function(){return r;},getVisibleStoryCount:function(v){var w=h.scry(v,u.getStoriesSelector());return w.length;},hideOffscreenSubstreams:function(){return j.hide_offscreen_substreams;},disableNewStoryBar:function(){return j.disable_new_story_bar;},hasOtherFeedsSwitcherExpansion:function(){return j.other_feeds_switcher_expand;},getOldStoryCount:function(){return p;},getTotalStoryCount:function(){return s;},getTimeBetweenLoads:function(){return o-n;},getTimeSinceLoad:function(){return Math.round(Date.now()/1000)-o;},setHomeloadID:function(v){t=v;},getHomeloadID:function(){return t;},getSectionID:function(){return q;}};e.exports=u;});
__d("LitestandStreamUnloader",["Event","Arbiter","DOM","DOMPosition","DOMQuery","LitestandMessages","LitestandStream","Run","$","csx","queryThenMutateDOM","throttle"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('DOM'),j=b('DOMPosition'),k=b('DOMQuery'),l=b('LitestandMessages'),m=b('LitestandStream'),n=b('Run'),o=b('$'),p=b('csx'),q=b('queryThenMutateDOM'),r=b('throttle'),s=false,t,u,v,w,x={},y=[];function z(){n.onLeave(aa);y=[h.subscribe(l.FILTER_SWITCH_BEGIN,aa),h.subscribe(l.STORIES_INSERTED,ca)];s=true;}function aa(){y.forEach(h.unsubscribe);y=[];s=false;}function ba(){var ea=false,fa=[];clearTimeout(u);u=setTimeout(function(){q(function(){var ga=Math.abs(Math.min(j.getElementPosition(t).y,0));if(ga===0){ea=true;fa=i.scry(v,m.getStoriesSelector());}},function(){if(fa.length>x.oldStoriesLimit){fa.slice(x.oldStoriesLimit).forEach(i.remove);h.inform(l.STORIES_REMOVED);}if(ea){w&&w.remove();w=null;}},'LitestandStreamUnloader/removeOldStories');},x.oldStoriesDelay);}function ca(){ba();if(!w&&m.getVisibleStoryCount(v)>x.oldStoriesLimit)w=g.listen(window,'scroll',r(ba));}var da={register:function(ea,fa){s||z();x=m.getStreamConfig(fa);v=o(ea);t=k.scry(document.body,"._li")[0];}};e.exports=da;});
__d("legacy:LitestandRHCController",["LitestandRHCController"],function(a,b,c,d){a.LitestandRHCController=b('LitestandRHCController');},3);
__d("LitestandSidebar",["Arbiter","AsyncRequest","CSS","DOM","DOMDimensions","Event","LitestandLinkHider","LitestandMessages","LitestandSidebarConfig","Parent","ScrollableArea","Style","UserAgent","$","csx","cx","emptyFunction","runAfterCSSTransition","throttle"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('AsyncRequest'),i=b('CSS'),j=b('DOM'),k=b('DOMDimensions'),l=b('Event'),m=b('LitestandLinkHider'),n=b('LitestandMessages'),o=b('LitestandSidebarConfig'),p=b('Parent'),q=b('ScrollableArea'),r=b('Style'),s=b('UserAgent'),t=b('$'),u=b('csx'),v=b('cx'),w=b('emptyFunction'),x=b('runAfterCSSTransition'),y=b('throttle'),z,aa,ba,ca,da,ea,fa,ga,ha,ia={},ja,ka=false,la=o.min_collapse_width,ma=205,na=document.documentElement,oa;if(!ka){oa=x(j.find(document.body,"._4_37"),true);}else oa=function(cb){cb();};var pa;function qa(){if(!pa)pa=ba.clientWidth+205;return pa;}function ra(){if(!aa)return;j.setContent(aa,ea?aa.getAttribute('data-openlabel'):aa.getAttribute('data-closelabel'));}function sa(){return j.find(z,"._4g6b");}function ta(){for(var cb in ia)if(ia.hasOwnProperty(cb)&&ia[cb]===false)return false;return true;}function ua(){i.addClass(na,"_4kdq");}function va(){i.removeClass(na,"_4kdq");i.removeClass(z,"_4_xo");}function wa(){ha=false;if(bb.isExpanded()||ga||ka)return;var cb=ca.width>la;if(!i.hasClass(na,'tinyViewport')&&document.body.clientWidth<qa()){ja=r.get(da,'overflowX');r.set(da,'overflowX','hidden');}i.conditionClass(z,"_4kds",!cb);va();ga=true;oa(g.inform.curry('reflow'));}function xa(){ha=true;if(!ta())return;ua();ga=false;g.inform('LitestandSidebar/closeFromHover');oa(function(){if(typeof ja!=='undefined'){r.set(da,'overflowX',ja);ja=undefined;}i.addClass(z,"_4_xo");g.inform('reflow');});}function ya(event){var cb=event.getRelatedTarget();if(bb.isExpanded()||cb===null||cb===na)return;xa();}function za(){var cb=ba.offsetWidth-k.measureElementBox(ba,'width',true,true);return cb+ma>ca.width;}function ab(){ca=k.getViewportWithoutScrollbarDimensions();if(!bb.isExpanded()&&fa)return;if(ca.width<=la){bb.collapse();}else bb.expand();}var bb={init:function(cb){z=cb;fa=o.is_collapsed;if(p.byClass(z,"_504q"))bb.initLiquidLayout();ba=t('globalContainer');da=j.find(document.body,"._4_37");var db=i.hasClass(na,"_4kdq");if(db)i.addClass(cb,"_4_xo");var eb=j.scry(document.body,"._4i9v");eb[0]&&j.remove(eb[0]);ab();g.inform('LitestandSidebar/initialized',null,g.BEHAVIOR_PERSISTENT);var fb=function(event){if(s.webkit()&&event.screenX===0&&event.screenY===0)return;fb=wa;wa();};l.listen(window,'resize',y(ab));l.listen(cb,'scroll',function(){if(cb.scrollLeft>0)cb.scrollLeft=0;});l.listen(document.body,'mouseenter',function(event){var ib=event.getTarget();if(!ga||j.contains(cb,ib))return;xa();});if(!o.sidebar_flyout){l.listen(cb,'mouseenter',fb);l.listen(cb,'mouseleave',ya);}if(!s.ie()&&!o.sidebar_flyout)l.listen(document.body,'mouseleave',function(event){var ib=l.getPosition(event);if(!bb.isExpanded()&&ib.x<=0)wa();});bb.initScrollableArea.defer();var gb=j.scry(cb,".fbChatTypeahead .textInput")[0];if(gb){var hb=p.byClass(gb,"_4oes");hb&&m.hideLinks(hb);l.listen(gb,'focus',function(){bb.allowCollapse(false,'chatsearch');});l.listen(gb,'blur',function(){bb.allowCollapse(true,'chatsearch');});g.subscribe('LitestandSidebarBookmarks/clickToCollapse',function(){gb.focus();});}g.subscribe(n.TOUR_SIDEBAR_HIGHLIGHT,function(){bb.allowCollapse(false,'tour');wa();});g.subscribe(n.TOUR_SIDEBAR_UNHIGHLIGHT,function(){if(ga)xa();bb.allowCollapse(true,'tour');});i.addClass(na,"_4tzn");},initScrollableArea:function(){var cb=q.getInstance(sa());cb.subscribe('grip_start',bb.allowCollapse.curry(false,'gripper'));cb.subscribe('grip_end',bb.allowCollapse.curry(true,'gripper'));},initLiquidLayout:function(){ka=true;g.subscribe('LitestandSidebarBookmarks/open',bb.expandWhenSuspended);var cb=j.find(z,"._504r");l.listen(cb,'click',function(){if(!ga)bb.expandWhenSuspended();});},expandWhenSuspended:function(){ka=false;wa();ka=true;},registerToggleItem:function(cb,db){aa=db;l.listen(cb,'click',bb.toggle);},isExpanded:function(){if(typeof ea==='undefined')ea=!i.hasClass(na,"_4kdq");return ea;},allowCollapse:function(cb,db){if(cb===false){ia[db]=cb;}else delete ia[db];if(ta()&&ha&&ga)xa();},toggle:function(){if(bb.isExpanded()){bb.collapse();fa=true;}else{bb.expand();fa=false;}new h('/ajax/litestand/sidebar/settings').setHandler(w).setErrorHandler(w).setData({is_collapsed:fa}).setAllowCrossPageTransition(true).send();},expand:function(){if(bb.isExpanded()||za()||ka)return;ra();i.removeClass(na,"_4kdt");i.removeClass(z,"_4kds");va();ea=true;ga=false;fa=false;oa(g.inform.curry('reflow'));g.inform('LitestandSidebar/expand');},collapse:function(){if(!bb.isExpanded())return;ra();i.addClass(na,"_4kdt");ea=false;if(ta()){ua();oa(function(){i.addClass(z,"_4_xo");g.inform('reflow');});g.inform('LitestandSidebar/collapse');}else ga=true;},showOnQuickling:function(){pa=undefined;if(z&&ka){ka=false;i.removeClass(na,"_4_f0");var cb=j.find(z,'.fbChatTypeahead');i.show(p.byClass(cb,'uiContextualLayerPositioner'));}},hideOnQuickling:function(){pa=undefined;if(z){ka=true;i.addClass(na,"_4_f0");}}};e.exports=bb;});
__d("CovercardArrow",["ContextualDialogArrow","CSS","DOMQuery","Locale","Style","copyProperties","csx","cx"],function(a,b,c,d,e,f){var g=b('ContextualDialogArrow'),h=b('CSS'),i=b('DOMQuery'),j=b('Locale'),k=b('Style'),l=b('copyProperties'),m=b('csx'),n=b('cx'),o=-45,p=45,q=10;if(j.isRTL()){o=-o;p=-p;}function r(t){this._layer=t;}l(r.prototype,{enable:function(){this._layer.enableBehavior(g);var t=this._layer.getContentRoot();this._arrowWrapper=i.scry(t,"._7lh")[0];if(!this._arrowWrapper)return;this._arrowShadow=i.scry(this._arrowWrapper,"._7li")[0];if(!this._arrowShadow)return;var u=null;if(this._arrowWrapper.style.webkitMaskPosition!==undefined){u=this._renderArrowWithWebkitMask.bind(this);h.addClass(t,"_7ld");}else if(s(this._arrowWrapper)){u=this._renderArrowWithRotate.bind(this);h.addClass(t,"_7le");}if(!u)return;if(j.isRTL())h.addClass(t,"_7lf");this._subscription=this._layer.subscribe('reposition',function(v,w){var x=w.getPosition()=='below';h.conditionClass(t,"_53ih",x);x&&u(w);});},disable:function(){this._subscription&&this._subscription.unsubscribe();this._subscription=null;},_calculateArrowOffset:function(t){var u=g.getOffsetPercent(t),v=g.getOffset(t,u,this._layer),w=k.get(this._layer.getContentRoot(),'width');return parseInt(w,10)*(u/100)+v;},_renderArrowWithWebkitMask:function(t){var u=g.getOffsetSide(t),v=this._calculateArrowOffset(t);if(j.isRTL()){var w=k.get(this._layer.getContentRoot(),'width');v=parseInt(w,10)-v-this._layer.getArrowDimensions().offset;u=u=='left'?'right':'left';}k.set(this._arrowWrapper,'webkitMaskPositionX',v+'px');k.set(this._arrowShadow,u,v+'px');},_renderArrowWithRotate:function(t){var u=i.scry(this._arrowWrapper,"._7lj")[0];if(!u)return;var v=s(this._arrowWrapper);if(!v)return;var w=this._calculateArrowOffset(t),x=q+w;if(j.isRTL())x=-x;this._arrowWrapper.style[v]='translate('+x+'px, -'+q+'px) '+'rotate('+p+'deg)';u.style[v]='rotate('+o+'deg) '+'translate('+(-x)+'px, 0px)';}});function s(t){if(!t)t=document.body;var u=['transform','WebkitTransform','msTransform','MozTransform','OTransform'],v;while(v=u.shift())if(t.style[v]!==undefined)return v;return null;}e.exports=r;});
__d("TypeaheadSubmitOnSelect",["copyProperties","Form"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('Form');function i(j){this._typeahead=j;}g(i.prototype,{_subscription:null,enable:function(){this._subscription=this._typeahead.subscribe('select',function(){var j=this._typeahead.getCore().getElement().form;if(j)j.getAttribute('rel')=='async'?h.bootstrap(j):j.submit();}.bind(this));},disable:function(){this._typeahead.unsubscribe(this._subscription);this._subscription=null;}});e.exports=i;});
__d("legacy:SubmitOnSelectTypeaheadBehavior",["TypeaheadSubmitOnSelect"],function(a,b,c,d){var e=b('TypeaheadSubmitOnSelect');if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.submitOnSelect=function(f){f.enableBehavior(e);};},3);