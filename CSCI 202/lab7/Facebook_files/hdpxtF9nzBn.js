/*1369015573,173217837*/

if (self.CavalryLogger) { CavalryLogger.start_js(["riraN"]); }

__d("ComposerXStubStatusAttachment",["Class","ComposerXAttachment","ComposerXDragDrop","CSS","Parent","copyProperties","cx"],function(a,b,c,d,e,f){var g=b('Class'),h=b('ComposerXAttachment'),i=b('ComposerXDragDrop'),j=b('CSS'),k=b('Parent'),l=b('copyProperties'),m=b('cx');function n(o,p){this.parent.construct(this);this._root=o;this._config=p;}g.extend(n,h);l(n.prototype,{_dragdrop:null,attachmentClassName:"_4j",getRoot:function(){return this._root;},initWithComponents:function(){if(this._config.plus_version){this._dragdrop=new i(this._root,this._composerID,this._config.targetID);this._dragdrop.enableURLDropping();}},reset:function(){var o=k.byClass(this._root,"child_was_focused");if(o)j.removeClass(o,"child_was_focused");this.getComponent('maininput').instance.setPlaceholder(this._config.mentionsPlaceholder);if(this._dragdrop){this._dragdrop.deactivate();this._dragdrop=null;}},canSwitchAway:function(){return !k.byClass(this._root,'async_saving');}});e.exports=n;});
__d("EntStreamGroupMall",["DOM","$"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('$'),i={replacePager:function(j){g.setContent(h('pagelet_group_pager'),j);},replaceFilesPager:function(j,k){g.setContent(h('group_files_pager_'+k),j);}};e.exports=i;});
__d("GroupMall",["Animation","Arbiter","DOM","LiveTimer","NavigationMessage","Run","Vector","$","copyProperties","ge"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Arbiter'),i=b('DOM'),j=b('LiveTimer'),k=b('NavigationMessage'),l=b('Run'),m=b('Vector'),n=b('$'),o=b('copyProperties'),p=b('ge'),q={};o(q,{init:function(r,s){this._mallNode=n('group_mall_'+r);this._composerPublishToken=h.subscribe('composer/publish',function(event,t){if(t.composer_id===s&&t.streamStory&&!p(t.streamStory.id))this._addPostToUI(t.streamStory);}.bind(this));l.onLeave(this._onleave.bind(this));this._navigationBeginToken=h.subscribe(k.NAVIGATION_BEGIN,this._onleave.bind(this));},_onleave:function(){this._navigationBeginToken.unsubscribe();this._composerPublishToken.unsubscribe();},_addPostToUI:function(r){var s=m.getElementDimensions(this._mallNode).y;i.prependContent(this._mallNode,r);var t=this._mallNode.firstChild;j.startLoop(0);new g(t).from('opacity',0).to('opacity',1).duration(300).go();}});e.exports=q;});
__d("LitestandShareAttachment",["CSS","DOM","DOMQuery","csx","queryThenMutateDOM"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('DOM'),i=b('DOMQuery'),j=b('csx'),k=b('queryThenMutateDOM'),l=16,m=22,n=5,o=2,p={1:5,2:4,3:2,4:0,5:0},q={1:2,2:0},r,s={init:function(w,x){var y,z,aa;k(function(){y=h.find(w,"._6m6");z=h.scry(w,"._6m7")[0];aa=v(y,x);},function(){if(!aa){var ba=x?o:n;t(y,ba*m);}else if(z&&aa){g.show(z);t(z,aa*l);}});}};function t(w,x){var y=w.scrollHeight;if(y<=x)return w;var z,aa='...',ba=i.getText(w);while(y>x){z=ba.lastIndexOf(' ');if(z===-1)z=ba.length-aa.length-1;ba=ba.substr(0,z).trim()+aa;u(w,ba);y=w.scrollHeight;}}function u(w,x){r=r||(w.textContent!=null?'textContent':'innerText');w[r]=x;}function v(w,x){var y=Math.round(w.scrollHeight/m);return x?q[y]:p[y];}e.exports=s;});
__d("highlight",["Animation","Style"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Style');function i(j,k,l){new g(j).from('background','#fff9d7').to('background',l||'#fff').ease(g.ease.both).duration(2000).ondone(function(){h.set(j,'background','');k&&k();}).go();}i.highlight=i;e.exports=i;});
__d("ScrollHighlight",["DOMScroll","highlight"],function(a,b,c,d,e,f){var g=b('DOMScroll'),h=b('highlight'),i={actOn:function(j,k){g.scrollTo(j);h(j,null,k);}};e.exports=i;});
__d("FacebarStructuredFragment",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(j,k){if(j&&k){return j.toLowerCase()==k.toLowerCase();}else return !j&&!k;}function i(j){this._text=String(j.text);this._uid=j.uid?String(j.uid):null;this._type=j.type?String(j.type):null;this._typeParts=null;}g(i.prototype,{getText:function(){return this._text;},getUID:function(){return this._uid;},getType:function(){return this._type;},getTypePart:function(j){return this._getTypeParts()[j];},getLength:function(){return this._text.length;},isType:function(j){for(var k=0;k<arguments.length;k++)if(!h(arguments[k],this.getTypePart(k)))return false;return true;},isWhitespace:function(){return (/^\s*$/).test(this._text);},toStruct:function(){return {text:this._text,type:this._type,uid:this._uid};},getHash:function(j){var k=j!=null?this._getTypeParts().slice(0,j).join(':'):this._type;return k+'::'+this._text;},_getTypeParts:function(){if(this._typeParts===null)this._typeParts=this._type?this._type.split(':'):[];return this._typeParts;}});e.exports=i;});
__d("FacebarStructuredText",["copyProperties","createArrayFrom","FacebarStructuredFragment"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('createArrayFrom'),i=b('FacebarStructuredFragment'),j=/\s+$/;function k(o){if(!o){return [];}else if(o instanceof n){return o.toArray();}else return h(o).map(function(p){return new i(p);});}function l(o){return new i({text:o,type:'text'});}function m(o,p,q){var r=o.getText(),s=r.replace(p,q);if(r!=s){return new i({text:s,type:o.getType(),uid:o.getUID()});}else return o;}function n(o){this._fragments=o||[];this._hash=null;}g(n,{fromStruct:function(o){return new n(k(o));},fromString:function(o){return new n([l(o)]);}});g(n.prototype,{matches:function(o,p){if(o){var q=this._fragments,r=o._fragments;return q.length==r.length&&!q.some(function(s,t){if(!p&&s.getUID()){return s.getUID()!=r[t].getUID();}else return s.getText()!=r[t].getText()||s.getType()!=r[t].getType();});}return false;},trim:function(){var o=null,p=null;this.forEach(function(r,s){if(!r.isWhitespace()){if(o===null)o=s;p=s;}});if(p!==null){var q=this._fragments.slice(o,p+1);q.push(m(q.pop(),j,''));return new n(q);}else return new n([]);},pad:function(){var o=this.getFragment(-1);if(o&&!j.test(o.getText())&&o.getText()!==''){return new n(this._fragments.concat(l(' ')));}else return this;},forEach:function(o){this._fragments.forEach(o);return this;},matchType:function(o){var p=null;for(var q=0;q<this._fragments.length;q++){var r=this._fragments[q],s=r.isType.apply(r,arguments);if(s&&!p){p=r;}else if(s||!r.isWhitespace())return null;}return p;},hasType:function(o){var p=arguments;return this._fragments.some(function(q){return !q.isWhitespace()&&q.isType.apply(q,p);});},isEmptyOrWhitespace:function(){return !this._fragments.some(function(o){return !o.isWhitespace();});},isEmpty:function(){return this.getLength()===0;},getFragment:function(o){return this._fragments[o>=0?o:this._fragments.length+o];},getCount:function(){return this._fragments.length;},getLength:function(){var o=0;this.forEach(function(p){o+=p.getLength();});return o;},toStruct:function(){return this._fragments.map(function(o){return o.toStruct();});},toArray:function(){return this._fragments.slice();},toString:function(){return this._fragments.map(function(o){return o.getText();}).join('');},getHash:function(){if(this._hash===null)this._hash=this._fragments.map(function(o){if(o.getUID()){return '[['+o.getHash(1)+']]';}else return o.getText();}).join('');return this._hash;}});e.exports=n;});
__d("FacebarNavigation",["Arbiter","csx","DOMQuery","FacebarStructuredText","Input","URI"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('csx'),i=b('DOMQuery'),j=b('FacebarStructuredText'),k=b('Input'),l=b('URI'),m=null,n=null,o=null,p=false,q=true,r=(function(){var v={},w=function(x){return 'uri-'+x.getQualifiedURI().toString();};return {set:function(x,y){v[w(x)]=y;},get:function(x){return v[w(x)];}};})();function s(v,w){o=v;p=w;q=false;t();}function t(){if(q){return;}else if(n){p&&n.pageTransition();n.setPageQuery(o);q=true;}else if(m&&o&&!k.getValue(m))k.setValue(m,o.structure.toString()+' ');}g.subscribe('page_transition',function(v,w){s(r.get(w.uri),true);});var u={registerInput:function(v){m=i.scry(v,"._586f")[0];t();},registerBehavior:function(v){n=v;t();},setPageQuery:function(v){r.set(l.getNextURI(),v);v.structure=j.fromStruct(v.structure);s(v,false);}};e.exports=u;});
__d("CollapsedList",["Event","CSS"],function(a,b,c,d,e,f){var g=b('Event'),h=b('CSS');function i(k){h.removeClass(k,'uiCollapsedListHidden');h.addClass(k,'uiCollapsedListVisible');}var j={init:function(k,l){g.listen(k,'click',i.bind(this,l));}};e.exports=j;});