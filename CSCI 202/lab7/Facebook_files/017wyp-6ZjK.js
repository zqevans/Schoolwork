/*1369345624,173214305*/

if (self.CavalryLogger) { CavalryLogger.start_js(["3J2h\/"]); }

__d("ExternalTrackingTag",["AsyncSignal","Event"],function(a,b,c,d,e,f){var g=b('AsyncSignal'),h=b('Event'),i={listenForElementClick:function(j,k,l,m){h.listen(j,'click',function(){i.sendRequest(k,l,m);});},sendRequest:function(j,k,l){if(j){new g(j).send();new g('/ads/external_tracking_tag/',{href:j,tracking_tag_id:k,adgroup_id:l}).send();}}};e.exports=i;});
__d("ad-logging",["Arbiter","AsyncRequest","Banzai","collectDataAttributes","Parent","TrackingNodes","ExternalTrackingTag"],function(a,b,c,d,e,f){var g='ssinfeed',h=b('Arbiter'),i=b('AsyncRequest'),j=b('Banzai'),k=b('collectDataAttributes'),l=b('Parent'),m=b('TrackingNodes'),n=b('ExternalTrackingTag'),o={};function p(s){return (s.getAttribute&&(s.getAttribute('ajaxify')||s.getAttribute('data-endpoint'))||s.action||s.href||s.name);}function q(s){var t=s.ei||s.ai;if(!t&&s.mei)t=s.mf_story_key;if(s!==null&&typeof(t)==="string"){var u=false;if(s.tn)for(var v=0;v<s.tn.length;v++){var w=s.tn.charAt(v),x=m.decodeTrackingInfo(w);switch(x){case m.types.LIKE_LINK:case m.types.UNLIKE_LINK:case m.types.COMMENT:case m.types.ADD_COMMENT_BOX:return;case m.types.XBUTTON:case m.types.HIDE_LINK:case m.types.REPORT_SPAM_LINK:case m.types.HIDE_ALL_LINK:case m.types.DROPDOWN_BUTTON:case m.types.UNHIDE_LINK:return;case m.types.ATTACHMENT:case m.types.USER_MESSAGE:u=true;break;}}var y=Date.now(),z=500;s.duplicate_click=!!o[t]&&(y-o[t]<z);o[t]=y;if(j.isEnabled('ssinfeed')){j.post(g,s,{delay:0,retry:j.isEnabled('ssinfeed_retry')});}else new i('/ajax/ssinfeed/end/').setData(s).setAllowCrossPageTransition(true).setMethod('POST').send();if(u&&s.external_tracking_tag&&!s.duplicate_click)n.sendRequest(s.external_tracking_tag.url,s.external_tracking_tag.tag_id,s.external_tracking_tag.adgroup_id);}}function r(s,t){if(!t.node)return;var u=p(t.node),v=l.byTag(t.node,'input')||l.byTag(t.node,'button');if(!u&&v&&v.type=="submit"&&v.getAttribute&&v.getAttribute('data-ft'))u="#";var w;if(u&&t.event&&(t.event.type==='click'||t.event.type==='contextmenu')){w=k(t.node,['ft']);w.ft.href=u;w.ft.mouse_type=t.event.type;q(w.ft);}}h.subscribe("ClickRefAction/new",r);});
__d("SwapButtonDEPRECATED",["Event","Arbiter","copyProperties","CSS"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('copyProperties'),j=b('CSS');function k(l,m,n){this._swapperButton=l;this._swappeeButton=m;g.listen(l,'click',this.swap.bind(this));if(n)g.listen(m,'click',this.unswap.bind(this));h.subscribe('SwapButtonDEPRECATED/focusOnJoinButton',this.setFocusOnSwapper.bind(this),h.SUBSCRIBE_ALL);}i(k.prototype,{_swapperButton:null,_swappeeButton:null,swap:function(l){j.hide(this._swapperButton);j.show(this._swappeeButton);l!==false&&this._swappeeButton.focus();},unswap:function(l){j.show(this._swapperButton);j.hide(this._swappeeButton);l!==false&&this._swapperButton.focus();},toggle:function(){j.toggle(this._swapperButton);j.toggle(this._swappeeButton);},setFocusOnSwapper:function(){this._swapperButton.focus();}});e.exports=k;});
__d("SubscribeButton",["Arbiter","AsyncRequest","Event"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('AsyncRequest'),i=b('Event'),j={SUBSCRIBED:'FollowingUser',UNSUBSCRIBED:'UnfollowingUser',init:function(k,l,m,n,o,p){i.listen(l,'click',function(){g.inform(j.SUBSCRIBED,{profile_id:n});});g.subscribe(j.SUBSCRIBED,function(q,r){if(n===r.profile_id){if(!o)m.suppressNextMouseEnter();k.swap();if(p===true)new h().setURI('/ajax/profile/suggestions_on_following.php').setData({profileid:n}).send();}});g.subscribe(j.UNSUBSCRIBED,function(q,r){if(n===r.profile_id){k.unswap();m.hideFlyout();g.inform('SubMenu/Reset');}});},initUnsubscribe:function(k,l){i.listen(k,'click',function(){g.inform.bind(g,j.UNSUBSCRIBED,{profile_id:l}).defer();});}};e.exports=j;});
__d("Tour",["Arbiter","LayerDestroyOnHide","LayerHideOnEscape","copyProperties","NavigationMessage"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('LayerDestroyOnHide'),i=b('LayerHideOnEscape'),j=b('copyProperties'),k=b('NavigationMessage');function l(){if(l._instance)l._instance.setTourComplete();l._instance=this;}j(l.prototype,{tourStarted:false,tourComplete:false,_navigationBeginToken:null,_pageLeaveToken:null,steps:{},openDialog:null,init:function(){this._pageLeaveToken=g.subscribe('onload/exit',this.handleLeavePage.bind(this));this._navigationBeginToken=g.subscribe(k.NAVIGATION_BEGIN,this.handleTransition.bind(this));this.steps={};return this;},registerStep:function(m,n){m.disableBehavior(h);m.disableBehavior(i);this.steps[n]=m;m.subscribe('show',function(){m.inform('tour-dialog-show',m);});if(!this.getTourStarted())this.setTourStart();},_unsubscribeSubscriptions:function(){this._navigationBeginToken.unsubscribe();this._pageLeaveToken.unsubscribe();},handleLeavePage:function(){this._unsubscribeSubscriptions();},handleTransition:function(){this._unsubscribeSubscriptions();},handleTourStart:function(){},handleTourStop:function(){},handleTourComplete:function(){},showStep:function(m){var n=this.steps[m];if(!(this.openDialog==n))this.hideOpenDialog();if(!n)return;this.openDialog=n;n.show();},hideOpenDialog:function(){if(this.openDialog){this.openDialog.hide();this.openDialog=null;}},getTourStarted:function(){return this.tourStarted;},setTourStart:function(){this.tourStarted=true;this.handleTourStart();},setTourStop:function(){this.tourStarted=false;this.hideOpenDialog();this.handleTourStop();},setTourComplete:function(){if(this.tourComplete)return;this.setTourStop();this.tourComplete=true;this.handleTourComplete();},hideStep:function(m){var n=this.steps[m];n&&n.hide();}});j(l,{getInstance:function(){return l._instance||(l._instance=new l());}});e.exports=l;});
__d("PageFanning",["Animation","AsyncRequest","CSS","DOM","FutureSideNav","Parent","URI","$","collectDataAttributes","copyProperties"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('AsyncRequest'),i=b('CSS'),j=b('DOM'),k=b('FutureSideNav'),l=b('Parent'),m=b('URI'),n=b('$'),o=b('collectDataAttributes'),p=b('copyProperties'),q={setFanStatus:function(s,t,u,v,w,x,y){var z={ft:{}};if(s)z={ft:o(s,['ft']).ft};w=w||function(ca){var da=ca.getPayload();if(!da||!s)return;if(da.reload){q.reloadOnFanStatusChanged(da.preserve_tab);}else r(s,da);};var aa={fbpage_id:t,add:u,reload:v};if(y!=null)p(aa,y);p(aa,z);var ba=new h().setURI('/ajax/pages/fan_status.php').setData(aa).setNectarModuleDataSafe(s).setHandler(w);if(x)ba.setErrorHandler(x);ba.send();return false;},reloadOnFanStatusChanged:function(s){var t=m.getRequestURI();if(s){var u=k.getInstance().selected.textKey;if(!t.getQueryData().sk&&u)t.addQueryData({sk:u});}window.location.href=t;},toggleLikeOnFanStatusChanged:function(s,t){var u=n('liked_pages_like_action_'+s),v=n('liked_pages_undo_action_'+s);i.conditionClass(u,'hidden_elem',t);i.conditionClass(v,'hidden_elem',!t);},informPageLikeButtonOnChange:function(s,t){var u=a.PageLikeButton;if(u)if(t){u.informLike(s);u.informLikeSuccess(s);}else u.informUnlike(s);}};function r(s,t){var u=t.feedback;if(!u)return;if(l.byClass(s,'fbTimelineEscapeSectionItem'))s=l.byClass(s,'fan_status_inactive')||s;var v=j.create('span',{className:'fan_status_inactive'},u);s.parentNode.replaceChild(v,s);var w=function(){if(t.can_repeat_action)v.parentNode.replaceChild(s,v);};new g(v).duration(3000).checkpoint().to('backgroundColor','#FFFFFF').duration(1000).ondone(w).go();}e.exports=q;});
__d("PageLikeButton",["Arbiter","AsyncRequest","AsyncResponse","Event","PageFanning","SubscribeButton","Tour","URI"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('AsyncRequest'),i=b('AsyncResponse'),j=b('Event'),k=b('PageFanning'),l=b('SubscribeButton'),m=b('Tour'),n=b('URI'),o={LIKED:'liked',UNLIKED:'unliked',LIKED_SUCCESS:'liked_success',init:function(r,s,t,u,v,w,x,y,z,aa,ba){g.subscribe(o.LIKED,function(ca,da){if(u===da.profile_id){if(!z)t.suppressNextMouseEnter();r.swap(ba);if(aa===true)new h().setURI('/ajax/pages/suggestions_on_liking.php').setData({pageid:u}).send();}});g.subscribe(o.UNLIKED,function(ca,da){if(u===da.profile_id){r.unswap(ba);t.hideFlyout();}});if(y)g.subscribe(o.LIKED_SUCCESS,function(ca,da){var ea=n.getRequestURI().getQueryData().app_data;if(da.profile_id==u)new h().setURI('/ajax/pages/fetch_app_column.php').setData({profile_id:u,tab_key:y,app_data:ea}).send();});j.listen(s,'click',q.bind(null,u,v,w,x));},initCallout:function(r,s){var t=document.getElementById('pageActionLikeCalloutButton');j.listen(t,'click',q.bind(null,r,s,null,null));},initUnlike:function(r,s,t){j.listen(r,'click',function(event){p(event.getTarget(),s,false,function(u){g.inform(o.LIKED,{profile_id:s});i.defaultErrorHandler(u);},t);o.informUnlike(s);});},informLike:function(r){var s={profile_id:r};g.inform(o.LIKED,s);g.inform(l.SUBSCRIBED,s);},informLikeSuccess:function(r){var s={profile_id:r};g.inform(o.LIKED_SUCCESS,s);},informUnlike:function(r){var s={profile_id:r};g.inform.bind(g,o.UNLIKED,s).defer();g.inform.bind(g,l.UNSUBSCRIBED,s).defer();}};function p(r,s,t,u,v,w,x){m.getInstance().hideStep('low_page_likes');k.setFanStatus(r,s,t,false,function(){o.informLikeSuccess(s);},u,{fan_origin:v,fan_source:w,cat:x});}function q(r,s,t,u,event){p(event.getTarget(),r,true,function(v){g.inform(o.UNLIKED,{profile_id:r});i.defaultErrorHandler(v);},s,t,u);o.informLike(r);}e.exports=o;a.PageLikeButton=o;});
__d("legacy:PageLikeButton",["PageLikeButton"],function(a,b,c,d){a.PageLikeButton=b('PageLikeButton');},3);
__d("PlaceActionLink",["AsyncRequest","Dialog"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('Dialog'),i={start_claim_link:function(j){var k=new g().setMethod('POST').setURI('/ajax/places/claim/start_claim.php').setData({id:j});new h().setAsync(k).show();return false;},refer_claim_link:function(j){var k=new g().setMethod('POST').setURI('/ajax/places/claim/refer_claim.php').setData({id:j});new h().setAsync(k).show();return false;}};e.exports=i;});
__d("legacy:place-action-link",["PlaceActionLink"],function(a,b,c,d){a.PlaceActionLink=b('PlaceActionLink');},3);
__d("TimelineCurationControl",["function-extensions","CSS","Parent","SelectorDeprecated"],function(a,b,c,d,e,f){b('function-extensions');var g=b('CSS'),h=b('Parent'),i=b('SelectorDeprecated');i.subscribe('open',function(j,k){var l=k.selector,m=k.clone||l,n=h.byClass(m,'fbTimelineCurationControl');if(n){g.addClass(n,'editControlsMenuOpen');var o=i.subscribe('close',function(p,q){if(q.selector==l){i.unsubscribe(o);g.removeClass.curry(n,'editControlsMenuOpen').defer();}});}});});
__d("TimelineFriendsNavHovercard",["Event","Hovercard","Keys","Parent"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Hovercard'),i=b('Keys'),j=b('Parent'),k=null,l=[],m=-1,n={};n[i.UP]={"-1":0,3:0,4:1,5:2};n[i.RIGHT]={"-1":0,0:1,1:2,2:3,3:4,4:5};n[i.DOWN]={"-1":0,0:3,1:4,2:5};n[i.LEFT]={"-1":0,1:0,2:1,3:2,4:3,5:4};function o(event){h.processNode(event.getTarget())&&event.stop();}function p(event){event.getTarget().tabIndex=-1;h.hide();}function q(event){var s=g.getKeyCode(event);if(s in n){if(m in n[s]){m=n[s][m];l[m].focus();}event.prevent();}}var r={init:function(s){if(!k){k=j.byTag(s,'a');if(k)g.listen(k,{keydown:q,focus:function(){m=-1;}});}l.push(s);g.listen(s,{focus:o,blur:p,mouseover:o,mouseout:function(event){event.getTarget().tabIndex=-1;}});}};e.exports=r;});
__d("TimelineNavigation",["Event","Arbiter","DOM","CSS","PageTransitions","Parent","TimelineController","TimelineURI","URI","$","createArrayFrom","ge"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('DOM'),j=b('CSS'),k=b('PageTransitions'),l=b('Parent'),m=b('TimelineController'),n=b('TimelineURI'),o=b('URI'),p=b('$'),q=b('createArrayFrom'),r=b('ge'),s=4,t=110,u=20,v=119,w=328,x=10,y=3,z=false,aa=21,ba,ca,da,ea=[],fa=[],ga,ha=0,ia,ja=0,ka=0,la,ma=s,na=false,oa=false,pa=null,qa,ra=false,sa,ta,ua=false;function va(jb,kb,lb){if(!kb.firstChild){i.remove(kb);return;}fa.push(kb);ya(lb.recent);j.removeClass(l.byTag(kb,'li'),'empty');if(ga&&(ja>s||ka>0))j.removeClass(ga,'notready');xa();if(lb.async){cb();eb();}}function wa(jb,kb,lb){i.remove(l.byTag(kb,'li'));if(!lb.async){la++;}else{ja--;cb();eb();}xa();}function xa(){var jb=ga?0:aa;if(ja<=s){var kb=w+v*Math.max(0,s-ja)+jb;if(ia)ia.style.width=kb+'px';ma=ja;za();}}function ya(jb){if(jb){ka++;}else ja++;za();}function za(){if(!sa)return;var jb=Math.max(0,ja-s)+ka;if(ha&&ga){i.setContent(ha,jb===0?" ":jb);j.conditionClass(ga,'fbTimelineMoreButtonZero',jb===0);if(!na)j.conditionShow(ga,jb>0);}}function ab(){var jb=i.scry(p('fbTimelineNavTopRow'),'li.tile'),kb=0,lb=0,mb=Math.max(0,s-ma),nb=false;for(var ob=0;ob<jb.length;ob++){if(jb[ob]==ia||jb[ob]==ga)continue;nb=((kb+mb)%s===0);j.conditionClass(jb[ob],'leftMost',(kb!==0&&nb));if(!j.hasClass(jb[ob],'empty'))lb=kb;kb++;}nb=((lb+1+mb)%s===0);var pb=jb.length-1-mb;if(nb){if(na&&(lb+1+mb)/s<y){pb=Math.min(pb,lb+s);oa=true;}else pb=lb;}else{var qb=((lb+1+mb)%s);pb=lb+(s-qb);oa=false;}ob=0;for(ob=0;ob<=pb;ob++)if(jb[ob]&&(jb[ob]==ia||jb[ob]==ga)){pb++;}else jb[ob]&&j.hasClass(jb[ob],'empty')&&j.removeClass(jb[ob],'hidden_elem');}function bb(jb,kb,lb){var mb=i.scry(jb,'li.tile');if(!kb)kb=0;var nb=false;for(var ob=kb;ob<mb.length;ob++){nb=((ob-lb)%s===0);var pb=mb[ob];j.conditionClass(pb,'leftMost',nb);if(j.hasClass(pb,'empty'))j.removeClass(pb,'hidden_elem');}}function cb(){ab();var jb=r('fbTimelineNavSecondaryRow');jb&&bb(jb,0,0);}function db(){if(!ga)return;if(j.hasClass(ga,'notready'))return;j.toggleClass(ga,'fbTimelineMoreButtonOpen');var jb=r('fbRecentAppTitle');jb&&j.conditionClass(jb,'hidden_elem',ka===0);if(j.hasClass(ga,'fbTimelineMoreButtonOpen')){cb();}else za();eb();}function eb(){if(ga&&!j.hasClass(ga,'fbTimelineMoreButtonOpen')){ba.style.height='';j.removeClass(ba,'expanded');}else{var jb=ja+(s-ma),kb=((ka>0)?x:0)+t*(Math.ceil(ka/s))+t*(Math.ceil(jb/s))+t*(oa?1:0)+u;j.addClass(ba,'expanded');ba.style.height=kb+'px';}}function fb(jb){var kb=jb==n.TIMELINE_KEY||jb==n.WALL_KEY,lb=l.byClass(ba,'fbTimelineTopSectionBase'),mb=r('timeline_tour_toolbar');if(ga){j.removeClass(ga,'fbTimelineMoreButtonOpen');eb();}mb&&j.conditionShow(mb,kb);if(lb)j.conditionClass(lb,'collapsedHead',!kb);}function gb(event){if(ua)return true;if(!l.byTag(event.getTarget(),'a')){var jb=i.find(ia,'a.title');k.go(jb.href);}}function hb(){if(ga)(function(){ga.removeAttribute('ajaxify');ga.removeAttribute('rel');}).defer();pa&&pa.remove();}var ib={UPDATE_PAGE:'TimelineNavigation/updatePage',init:function(jb,kb,lb,mb){if(z)return;z=true;ba=jb;ga=kb;ca=o.getRequestURI();ia=i.scry(ba,'li.about')[0];fb(m.getCurrentKey());na=mb;h.inform(ib.UPDATE_PAGE);if(ga){ha=i.find(ga,'div.text');pa=g.listen(ga,'click',hb);}qa=p('fbTimelineNavigationLoadContainer');i.appendContent(p('content'),qa);if(ia)ta=g.listen(ia,'click',gb);ea.forEach(function(ob){if(!ob[2].remove){va.apply(this,ob);}else wa.apply(this,ob);});ea=[];var nb=l.byClass(jb,'fbTimelineSection');if(nb)i.scry(nb,'ul.uiButtonGroup').forEach(function(ob){q(ob.childNodes).forEach(function(pb){pb.childNodes.length||i.remove(pb);});if(ob.firstChild){j.addClass(ob.firstChild,'firstItem');}else i.remove(ob);});m.register(m.NAV,ib);},reset:function(){ta&&ta.remove();ta=null;sa&&sa.remove();sa=null;z=false;ba=null;da=null;fa=[];ga=null;ha=null;ia=null;ja=0;ka=0;la=0;ma=s;na=false;oa=false;qa=null;ra=false;ua=false;},initializeMorePager:function(){if(sa)return;if(ga)sa=g.listen(ga,'click',db);},registerNav:function(jb,kb,lb){z?(lb.remove?wa.apply(this,arguments):va.apply(this,arguments)):ea.push(arguments);},redraw:function(){cb();eb();},setEditMode:function(jb){ua=jb;}};e.exports=ib;});
__d("TimelinePageMostRecent",["CSS","DOMQuery","Parent","Style","TimelineCapsule","$"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('DOMQuery'),i=b('Parent'),j=b('Style'),k=b('TimelineCapsule'),l=b('$'),m={init:function(n,o){if(!g.shown(n)){g.show(n);var p=l(o);j.set(h.find(p,'div.sArea'),'height',(p.offsetHeight||0)+'px');k.balanceCapsule(i.byClass(l(n),'fbTimelineCapsule'));}}};e.exports=m;});
__d("HoverButton",["AsyncRequest","CSS","DOM","URI","copyProperties","cx"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('CSS'),i=b('DOM'),j=b('URI'),k=b('copyProperties'),l=b('cx');function m(n,o,p,q){this._button=n;this._flyout=o;this._flyoutAjaxify=q;this._flyoutContent=p;o.subscribe('show',this._onShow.bind(this));o.subscribe('hide',this._onHide.bind(this));}k(m.prototype,{_button:null,_flyout:null,_flyoutAjaxify:null,_flyoutContent:null,showFlyoutBriefly:function(){this.showFlyout();this._flyout.hideFlyoutDelayed(5000);},showFlyout:function(){this._flyout.showFlyout(this._button,true);this._flyout.inform('show',this._button);},hideFlyout:function(){this._flyout.hideFlyout(true);this._flyout.inform('hide',this._button);},enableButton:function(){this._flyout.initNode(this._button);},disableButton:function(){this.hideFlyout();this._flyout.deactivateNode(this._button);},_onShow:function(n,o){h.addClass(o,"_52nd");if(h.hasClass(o,'uiButton')||h.hasClass(o,"_42fu"))h.addClass(o,'selected');if(this._flyoutAjaxify){h.addClass(this._flyoutContent,'async_saving');new g().setURI(new j(this._flyoutAjaxify)).setHandler(function(p){h.removeClass(this._flyoutContent,'async_saving');i.setContent(this._flyoutContent,p.payload);}.bind(this)).send();this._flyoutAjaxify=null;}},_onHide:function(n,o){h.removeClass(o,"_52nd");if(h.hasClass(o,'uiButton')||h.hasClass(o,"_42fu"))h.removeClass(o,'selected');},destroy:function(){this.hideFlyout();this._flyout.destroy();},suppressNextMouseEnter:function(){this._flyout.setActiveNode(this._button);}});e.exports=m;});